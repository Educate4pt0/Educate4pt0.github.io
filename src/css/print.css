/**
 * Print styles for better document output
 * Prevents code blocks from breaking across pages and preserves styling
 */

@media print {
  /* Prevent code blocks from breaking across pages */
  pre,
  code,
  .docusaurus-highlight-code-line,
  [class*="codeBlock"] {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* Keep code block styling in print */
  pre {
    background-color: inherit;
    border: 1px solid #ddd;
  }

  /* Prevent article content from breaking awkwardly */
  article {
    page-break-inside: avoid;
  }

  /* Keep headings with their content */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    page-break-after: avoid;
    page-break-inside: avoid;
  }

  /* Prevent images and figures from breaking */
  img,
  figure,
  [class*="figure"] {
    page-break-inside: avoid;
  }

  /* Keep lists together */
  ul,
  ol {
    page-break-inside: avoid;
  }

  li {
    page-break-inside: avoid;
  }

  /* Expand details elements */
  details {
    display: block !important;
  }

  details > summary {
    display: block !important;
    visibility: visible !important;
  }

  details > *:not(summary) {
    display: block !important;
    visibility: visible !important;
    height: auto !important;
    max-height: none !important;
    overflow: visible !important;
  }

  /* Expand all tab content */
  [role="tabpanel"] {
    display: block !important;
    visibility: visible !important;
    height: auto !important;
  }

  [class*="tab"] {
    page-break-inside: avoid;
  }

  /* Docusaurus tabs - improve print layout */
  .tabs {
    display: block !important;
  }

  .tabs__list {
    display: none !important;
  }

  /* Show all tab panes with clear delimiters */
  [role="tabpanel"] {
    display: block !important;
    visibility: visible !important;
    height: auto !important;
    margin-bottom: 1.5em;
    padding: 1em;
    border: 1px solid #999;
    border-radius: 4px;
    page-break-inside: avoid;
  }

  /* Add content before each pane to show the tab name */
  [role="tabpanel"]::before {
    content: "Tab Content";
    display: block;
    font-weight: bold;
    margin-bottom: 0.5em;
    color: #666;
    font-size: 0.9em;
  }

  /* Preserve colors in print (some browsers don't by default) */
  * {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    color-adjust: exact;
  }

  /* Optional: Hide navigation elements */
  nav,
  [class*="navbar"],
  [class*="sidebar"],
  [class*="TOC"] {
    display: none;
  }

  /* Quiz component print styles */
  [data-quiz-qa] {
    page-break-inside: avoid;
  }

  [data-quiz-qa][open] > summary::before {
    content: '▼ ';
  }

  [data-quiz-qa] summary {
    font-weight: 700;
  }

  [data-quiz-answer] {
    display: block !important;
  }

  [data-answer-item] {
    display: block !important;
  }

  [data-quiz-question] {
    page-break-inside: avoid;
    border: 1px solid #000;
  }

  [data-quiz-options] {
    margin-top: 1rem;
  }

  [data-quiz-option] {
    border: 1px solid #000;
    page-break-inside: avoid;
  }

  /* Highlight selected correct answers in green */
  [data-quiz-option][data-correct="true"] input:checked {
    accent-color: #22c55e;
  }

  [data-quiz-option][data-correct="true"]:has(input:checked) {
    border: 2px solid #22c55e;
    background-color: rgba(34, 197, 94, 0.2) !important;
  }

  [data-quiz-option][data-correct="true"]:has(input:checked) span::after {
    content: ' ✓';
    color: #22c55e;
    font-weight: 600;
  }

  /* Mark all correct answers */
  [data-quiz-option][data-correct="true"] {
    border: 2px solid #22c55e;
    background-color: rgba(34, 197, 94, 0.2) !important;
  }

  [data-quiz-option][data-correct="true"] span::after {
    content: ' [CORRECT]';
    color: #22c55e;
    font-weight: 600;
  }

  /* Hide all interactive buttons */
  [data-quiz-buttons] {
    display: none !important;
  }

  /* Force all correct answers to show */
  [data-quiz-option] input[type="radio"]:checked,
  [data-quiz-option] input[type="checkbox"]:checked {
    accent-color: #000;
  }
}
